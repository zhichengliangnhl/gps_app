# Treasure Hunt

A fun treasure hunt app developed by students that encourages you to go out and explore the many different waypoints your friends set for you to find.

## Features

- Share waypoints through QR codes or code import
- Compass arrow pointing to the treasure
- Achievement system and in-game currency
- Different theme selections for UI customization
- Real-time navigation with distance tracking
- Waypoint completion tracking and statistics
- Camera-based QR code scanning
- Google Maps integration for waypoint creation

## Prerequisites

Before starting, ensure you have the following installed and ready:

- [Android Studio](https://developer.android.com/studio) - Latest version is recommended
- Google Maps API Key (stored in a `.env` file in the main project folder)
- Android device with API level 24+ (Android 7.0 Nougat or higher)
- `local.properties` file in the main project folder (if not already present)

## Environment Configuration

### 1. Google Maps API Key

Create a `.env` file in the main project folder and add your Google Maps API key:

```bash
API_KEY=your_google_maps_api_key_here
```

**Important**: The app uses this API key for Google Maps functionality. Make sure your API key has the following APIs enabled:

- Maps SDK for Android
- Places API (for location search)
- Geocoding API

### 2. Android SDK Path

The `local.properties` file should be automatically generated by Android Studio, but if you need to create it manually:

```properties
# local.properties
sdk.dir=C:\\Users\\<your-username>\\AppData\\Local\\Android\\Sdk   # Windows
sdk.dir=/Users/<your-username>/Library/Android/sdk                # macOS
sdk.dir=/home/<your-username>/Android/Sdk                         # Linux
```

## Local Development Setup

### 1. Clone the Repository

```bash
git clone <repository-url>
cd gps_app
```

### 2. Install and Configure Android Studio

#### Windows Setup

1. Download and install [Android Studio](https://developer.android.com/studio)
2. During installation, make sure to install:
   - Android SDK
   - Android SDK Platform (API 24 or higher)
   - Android Virtual Device
3. Open Android Studio and complete the setup wizard
4. Install any additional SDK components when prompted

#### macOS Setup

1. Download and install [Android Studio](https://developer.android.com/studio)
2. During installation, make sure to install:
   - Android SDK
   - Android SDK Platform (API 24 or higher)
   - Android Virtual Device
3. Open Android Studio and complete the setup wizard
4. Install any additional SDK components when prompted
5. If prompted for permissions, grant access to:
   - Camera (for QR scanning)
   - Location services
   - File system access

### 3. Sync Gradle

1. Open the project in Android Studio
2. Wait for Gradle to sync automatically, or click "Sync Now" if prompted
3. If sync fails, try:
   - `File > Invalidate Caches and Restart`
   - `Build > Clean Project` then `Build > Rebuild Project`

### 4. Configure Environment

1. Navigate to the project directory:

```bash
cd gps_app
```

2. Create the `.env` file with your Google Maps API key as shown in the Environment Configuration section above.

### 5. Connect App to Android Device

#### Physical Device (Recommended)

1. Connect your Android device via USB cable
2. Enable USB debugging on your device:
   - Go to `Settings > About Phone`
   - Tap "Build Number" 7 times to enable Developer Options
   - Go to `Settings > Developer Options`
   - Enable "USB Debugging"
3. Allow USB debugging when prompted on your device
4. Run the app from Android Studio - it will install the app on your phone (temporary installation)

#### Virtual Device (Alternative)

1. In Android Studio, go to `Tools > AVD Manager`
2. Click "Create Virtual Device"
3. Select a device (Medium Phone is recommended)
4. Choose a system image (API 24 or higher required)
5. Complete the setup and start the virtual device
6. Run the app from Android Studio

## Project Structure

The app is built with:

- **Minimum SDK**: API 24 (Android 7.0 Nougat)
- **Target SDK**: API 35 (Android 15)
- **Language**: Java with Kotlin support
- **Architecture**: Traditional Android Activities
- **Key Libraries**:
  - Google Maps & Location Services
  - CameraX for QR scanning
  - Room Database
  - Material Design Components

## Contributors

Students from NHL Stenden:

- Mihail Druzeta
- Jia Men Lam
- Thijs
- Fjodor Smorodins
- Zhi Cheng Liang

## Troubleshooting

### Common Issues

#### No Target Device Found

- **Windows/macOS**: Check if you have a virtual device set up in AVD Manager
- If not, go to `Tools > AVD Manager` in Android Studio and create a virtual device (Medium Phone is recommended)
- For physical devices, ensure USB debugging is enabled
- Make sure your device runs Android 7.0 (API 24) or higher

#### App Not Starting

- Make sure you have a valid Google Maps API key in the `.env` file
- Verify that `local.properties` is set up correctly
- Check that all Gradle dependencies are synced
- Ensure your Google Maps API key has the required APIs enabled

#### Build Errors

- Clean and rebuild the project: `Build > Clean Project` then `Build > Rebuild Project`
- Invalidate caches: `File > Invalidate Caches and Restart`
- Check that you have the correct JDK version installed (JDK 11 is required)
- Make sure Android SDK API 24+ is installed

#### Location Services Not Working

- Ensure location permissions are granted on the device
- Check that GPS is enabled on the device
- Verify that the device has an internet connection for Google Maps functionality
- Make sure your Google Maps API key is valid and has location services enabled

#### Camera/QR Scanning Issues

- Grant camera permissions when prompted
- Ensure the device has a working camera
- Check that the device supports CameraX (API 21+)

#### macOS-Specific Issues

- If you get permission errors, check System Preferences > Security & Privacy
- For camera access issues, ensure the app has camera permissions
- If Android Studio is slow, try increasing memory allocation in `Help > Edit Custom VM Options`

## License

This project is developed by students at NHL Stenden for educational purposes.
